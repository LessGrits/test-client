{"version":3,"sources":["components/Footer/Footer.js","components/Header/Header.js","components/Hotdog-item/Hotdog-item.js","components/Modal-window/Modal-window.js","components/Main/Main.js","App.js","index.js"],"names":["Footer","className","Header","src","alt","type","data-toggle","data-target","HotdogItem","hotdogData","data","setItemValue","deleteHotdogFromState","useState","editMode","changeEditMode","name","description","price","photoUrl","photo_url","id","hotdog_id","url","defaultPhoto","setEditMode","deleteHotdog","a","fetch","method","console","error","updateHotdog","event","preventDefault","body","headers","JSON","stringify","staticData","onClick","onSubmit","e","value","onChange","target","ModalWindow","addHotdogToState","setHotdogData","onSubmitForm","window","location","placeholder","data-dismiss","Main","hotdogsList","setHotdogsList","getHotdogsList","response","json","jsonData","filter","hotdog","oldItem","itemWithNewValue","index","indexOf","itemsBefore","slice","itemsAfter","newList","useEffect","map","key","item","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.34fe51ce.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Footer.css'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <div className=\"App\">\r\n      <footer>\r\n        &copy;Footer\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport  './Header.css';\r\n\r\nfunction Header() {\r\n  return (\r\n    <header>\r\n      <div className=\"logo\">\r\n        <img src=\"https://image.freepik.com/free-vector/_98292-3951.jpg\" alt=\"logo\"/>\r\n      </div>\r\n      <button type=\"button\" className=\" new-hotdog\" data-toggle=\"modal\" data-target=\"#myModal\" >\r\n        Add hotdog\r\n      </button>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","import React, {useState} from \"react\";\r\nimport './Hotdog-item.css';\r\n\r\nconst HotdogItem = ({data: hotdogData, setItemValue, deleteHotdogFromState,}) => {\r\n\r\n  const [editMode, changeEditMode] = useState(false);\r\n\r\n  const {name, description, price, photo_url: photoUrl, hotdog_id: id} = hotdogData;\r\n\r\n  const url = \"https://we-are-the-future-test-server.herokuapp.com/hotdogs\";\r\n\r\n  const defaultPhoto = \"https://vignette.wikia.nocookie.net/edopedia/images/5/5e/%D0%A5%D0%BE%D1%82_%D0%B4%D0%BE%D0%B3.jpg/revision/latest?cb=20170806182648&path-prefix=ru\";\r\n\r\n  const setEditMode = () => {\r\n    changeEditMode(!editMode)\r\n  };\r\n\r\n  const deleteHotdog = async (id) => {\r\n    try {\r\n      const response = await fetch(`${url}/${id}`, {\r\n        method: \"DELETE\"\r\n      });\r\n      deleteHotdogFromState(id);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const updateHotdog = async (event, id) => {\r\n    event.preventDefault();\r\n    try {\r\n      const body = {...hotdogData};\r\n      const response = await fetch(`${url}/${id}`,{\r\n        method: \"PUT\",\r\n        headers: {\"Content-Type\": \"application/json\"},\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      setEditMode();\r\n    } catch (error) {\r\n      console.error(error)\r\n    }\r\n  };\r\n\r\n\r\n  const staticData = (\r\n    <div className=\"hotdog\">\r\n      <div className=\"hotdog__img\">\r\n        <img src={photoUrl || defaultPhoto}\r\n             alt=\"hotdog\"/>\r\n      </div>\r\n      <h3 className=\"hotdog__name\">\r\n        {name}\r\n      </h3>\r\n      <p className=\"hotdog__price\">{price}$</p>\r\n      <p className=\"hotdog__description\">\r\n        {description}\r\n      </p>\r\n      <button className=\"hotdog__btn\" onClick={setEditMode}>\r\n        Edit\r\n      </button>\r\n\r\n    </div>\r\n  );\r\n\r\n  const editableData = (\r\n    <div className=\"hotdog\">\r\n      <div className=\"hotdog__img\">\r\n        <img src={photoUrl || defaultPhoto} alt=\"hotdogPhoto\"/>\r\n      </div>\r\n      <form className=\"edit-form\" onSubmit={e => updateHotdog(e, id)}>\r\n        <input type=\"text\" value={photoUrl}\r\n               onChange={e => setItemValue(hotdogData, {...hotdogData, photo_url: e.target.value})}/>\r\n        <input type=\"text\" value={name}\r\n               onChange={e => setItemValue(hotdogData, {...hotdogData, name: e.target.value})}/>\r\n        <input type=\"text\" value={price}\r\n               onChange={e => setItemValue(hotdogData, {...hotdogData, price: e.target.value})}/>\r\n        <input type=\"text\" value={description}\r\n               onChange={e => setItemValue(hotdogData, {...hotdogData, description: e.target.value})}/>\r\n        <button type=\"submit\" className=\"hotdog__btn\">\r\n          Upgrade\r\n        </button>\r\n        <button type=\"button\" className=\"hotdog__btn\"\r\n                onClick={() => deleteHotdog(id)}>\r\n          Delete\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  return editMode ? editableData : staticData;\r\n};\r\n\r\nexport default HotdogItem","import React, {useState} from \"react\";\r\nimport \"./Modal-window.css\"\r\n\r\nconst ModalWindow = ({addHotdogToState}) => {\r\n\r\n  const url = \"https://we-are-the-future-test-server.herokuapp.com/hotdogs\";\r\n\r\n  const initialHotdogData = {\r\n    name: \"\",\r\n    price: \"\",\r\n    description: \"\",\r\n    photoUrl: \"\"\r\n  };\r\n\r\n  const [hotdogData, setHotdogData] = useState(initialHotdogData);\r\n\r\n  const onSubmitForm = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { ...hotdogData };\r\n      const response = await fetch(url, {\r\n        method: \"POST\",\r\n        headers: {\"Content-Type\": \"application/json\"},\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      addHotdogToState(hotdogData);\r\n      window.location = '/';\r\n\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal fade\" id=\"myModal\">\r\n      <div className=\"modal-dialog modal-dialog-centered\">\r\n        <div className=\"modal-content\">\r\n\r\n          <form onSubmit={e => onSubmitForm(e)}>\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Add new hot-dog</h4>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <input className=\"modal-input\"\r\n                     placeholder=\"Name\"\r\n                     type=\"text\"\r\n                     value={hotdogData.name}\r\n                     onChange={\r\n                       e => setHotdogData({\r\n                         ...hotdogData,\r\n                         name: e.target.value\r\n                       })}/>\r\n              <input className=\"modal-input\"\r\n                     placeholder=\"Price\"\r\n                     type=\"number\"\r\n                     value={hotdogData.price}\r\n                     onChange={\r\n                       e => setHotdogData({\r\n                         ...hotdogData,\r\n                         price: e.target.value\r\n                       })}/>\r\n              <input className=\"modal-input\"\r\n                     placeholder=\"Description\"\r\n                     type=\"text\"\r\n                     value={hotdogData.description}\r\n                     onChange={\r\n                       e => setHotdogData({\r\n                         ...hotdogData,\r\n                         description: e.target.value\r\n                       })}/>\r\n              <input className=\"modal-input\"\r\n                     placeholder=\"Image\"\r\n                     type=\"text\"\r\n                     value={hotdogData.photoUrl}\r\n                     onChange={\r\n                       e => setHotdogData({\r\n                         ...hotdogData,\r\n                         photoUrl: e.target.value\r\n                       })}/>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button type=\"submit\" className=\"btn  modal-btn\"  >Add</button>\r\n              <button type=\"button\" className=\"btn modal-btn\" data-dismiss=\"modal\">Close</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ModalWindow;","import React, {useEffect, useState} from \"react\";\r\nimport './Main.css';\r\nimport HotdogItem from \"../Hotdog-item/Hotdog-item\";\r\nimport ModalWindow from \"../Modal-window/Modal-window\";\r\n\r\nconst Main = () => {\r\n\r\n  const [hotdogsList, setHotdogsList] = useState([]);\r\n\r\n  const getHotdogsList = async () => {\r\n    try {\r\n      const response = await fetch(\"https://we-are-the-future-test-server.herokuapp.com/hotdogs\");\r\n      const jsonData = await response.json();\r\n      setHotdogsList(jsonData)\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  const deleteHotdogFromState = (id) => {\r\n    setHotdogsList(hotdogsList.filter(hotdog => hotdog.hotdog_id !== id));\r\n  };\r\n\r\n  const addHotdogToState = (item) => {\r\n    setHotdogsList([...hotdogsList, item]);\r\n\r\n  };\r\n\r\n  const setItemValue = (oldItem, itemWithNewValue) => {\r\n    const index = hotdogsList.indexOf(oldItem);\r\n    const itemsBefore = hotdogsList.slice(0, index);\r\n    const itemsAfter = hotdogsList.slice(index + 1);\r\n    const newList = [...itemsBefore, itemWithNewValue, ...itemsAfter];\r\n    setHotdogsList([...newList])\r\n  };\r\n\r\n  useEffect(() => {\r\n    getHotdogsList();\r\n  }, []);\r\n\r\n\r\n  return (\r\n    <main>\r\n      <h1>All hot-dogs</h1>\r\n      <section className=\"main-content\">\r\n        {hotdogsList.map((data) => (\r\n          <HotdogItem data={data}\r\n                      key={data.hotdog_id}\r\n                      deleteHotdogFromState={deleteHotdogFromState}\r\n                      setHotdogsList={setHotdogsList}\r\n                      setItemValue={setItemValue}\r\n          />))}\r\n        <ModalWindow addHotdogToState={addHotdogToState}/>\r\n      </section>\r\n    </main>\r\n  )\r\n};\r\n\r\nexport default Main","import React from 'react';\nimport './App.css';\nimport Footer from \"./components/Footer/Footer\";\nimport Header from \"./components/Header/Header\";\nimport Main from \"./components/Main/Main\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Main />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}