(this["webpackJsonptest-client"]=this["webpackJsonptest-client"]||[]).push([[0],{18:function(e,t,a){e.exports=a(37)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o);a(23),a(24),a(25);var l=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("footer",null,"\xa9Footer"))},u=(a(26),a(3)),i=a(2),s=a.n(i),d=a(4),m="https://we-are-the-future-test-server.herokuapp.com/hotdogs",p=function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:a({type:"HOTDOG/CREATE_HOTDOG",payload:e});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e,t){return function(){var a=Object(d.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(m,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:a.sent,n({type:"HOTDOG/UPDATE_HOTDOG",payload:{id:t,hotdogData:e}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},h=function(){return{type:"APP/SHOW_LOADER"}},f=function(){return{type:"APP/HIDE_LOADER"}},E=function(){var e=Object(u.b)();return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"https://image.freepik.com/free-vector/_98292-3951.jpg",alt:"logo"})),r.a.createElement("button",{className:"new-hotdog",onClick:function(){return e({type:"APP/SHOW_MODAL"})}},"Add hotdog"))},g=(a(34),a(6)),b=a(1),v=a(7),_=(a(35),function(e){var t=e.data,a=Object(n.useState)(!1),o=Object(v.a)(a,2),c=o[0],l=o[1],i=Object(u.b)(),p=Object(n.useState)(t),h=Object(v.a)(p,2),f=h[0],E=h[1],_=f.name,y=f.description,D=f.price,j=f.photo_url,N=f.hotdog_id,T=function(){l(!c)},A=function(e){e.persist(),E((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(g.a)({},e.target.name,e.target.value))}))},w=function(){var e=Object(d.a)(s.a.mark((function e(t,a,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),i(O(t,a)),T();case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),H=r.a.createElement("div",{className:"hotdog"},r.a.createElement("div",{className:"hotdog__img"},r.a.createElement("img",{src:j,alt:"hotdog"})),r.a.createElement("h3",{className:"hotdog__name"},_),r.a.createElement("p",{className:"hotdog__price"},D,"$"),r.a.createElement("p",{className:"hotdog__description"},y),r.a.createElement("button",{className:"hotdog__btn",onClick:T},"Edit"));return c?r.a.createElement("div",{className:"hotdog"},r.a.createElement("div",{className:"hotdog__img"},r.a.createElement("img",{src:j,alt:"hotdogPhoto"})),r.a.createElement("form",{className:"edit-form",onSubmit:function(e){return w(f,N,e)}},r.a.createElement("input",{type:"text",name:"photo_url",value:j,onChange:A}),r.a.createElement("input",{type:"text",name:"name",required:!0,value:_,onChange:A}),r.a.createElement("input",{type:"text",name:"price",required:!0,value:D,onChange:A}),r.a.createElement("input",{type:"text",name:"description",value:y,onChange:A}),r.a.createElement("button",{type:"submit",className:"hotdog__btn"},"Upgrade"),r.a.createElement("button",{type:"button",className:"hotdog__btn",onClick:function(){return i((e=N,function(){var t=Object(d.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(m,"/").concat(e),{method:"DELETE"});case 3:t.sent,a({type:"HOTDOG/DELETE_HOTDOG",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()));var e}},"Delete"))):H}),y=(a(36),function(){var e=Object(u.b)(),t=Object(n.useState)({name:"",price:"",description:"",photo_url:""}),a=Object(v.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(v.a)(l,2),m=i[0],O=i[1],h=function(e){e.persist(),c((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(g.a)({},e.target.name,e.target.value))}))},f=function(){var t=Object(d.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),n=(Date.now()/1e3).toFixed(),r=Object(b.a)(Object(b.a)({},o),{},{hotdog_id:n}),e(p(r)),e({type:"APP/HIDE_MODAL"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-background",onClick:function(){return e({type:"APP/HIDE_MODAL"})}}),r.a.createElement("div",{className:"modal-content"},r.a.createElement("form",{onSubmit:f},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Add new hot-dog")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("input",{className:"modal-input",placeholder:"Image",type:"text",name:"photo_url",value:o.photo_url,onChange:h}),r.a.createElement("input",{className:"modal-input",required:!0,placeholder:"Name",type:"text",name:"name",value:o.name,onChange:h}),r.a.createElement("input",{className:"modal-input",required:!0,placeholder:"Price",type:"number",name:"price",value:o.price,onChange:h}),r.a.createElement("input",{className:"modal-input",placeholder:"Description",type:"text",name:"description",value:o.description,onChange:h})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"submit",className:"modal-btn",disabled:function(e){var t=e.name,a=e.price;return!(function(e){var t=new Image;return t.onload=function(){O(!0)},t.src=e,m}(e.photo_url)&&t&&a)}(o)},"Add"),r.a.createElement("button",{type:"button",onClick:function(){return e({type:"APP/HIDE_MODAL"})},className:"modal-btn"},"Close")))))}),D=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.hotdogs.hotdogs})),a=Object(u.c)((function(e){return e.app.loading})),o=Object(u.c)((function(e){return e.app.modalWindow}));return Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h()),e.next=3,fetch(m);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:"HOTDOG/FETCH_HOTDOGS",payload:n}),t(f());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement("main",null,a?r.a.createElement("div",{className:"loader"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"All hot-dogs"),r.a.createElement("section",{className:"main-content"},t.map((function(e){return r.a.createElement(_,{data:e,key:e.hotdog_id})})),o&&r.a.createElement(y,null))))};var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(D,null),r.a.createElement(l,null))},N=a(5),T=a(17),A={hotdogs:[]},w={modalWindow:!1,loading:!1},H=Object(N.c)({hotdogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HOTDOG/CREATE_HOTDOG":return{hotdogs:[].concat(Object(T.a)(e.hotdogs),[t.payload])};case"HOTDOG/FETCH_HOTDOGS":return{hotdogs:t.payload};case"HOTDOG/DELETE_HOTDOG":return{hotdogs:e.hotdogs.filter((function(e){return e.hotdog_id!==t.payload}))};case"HOTDOG/UPDATE_HOTDOG":return{hotdogs:e.hotdogs.map((function(e){return e.hotdog_id===t.payload.id?(console.log(t.payload.id),console.log(t.payload.hotdogData),t.payload.hotdogData):e}))};default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SHOW_LOADER":return Object(b.a)(Object(b.a)({},e),{},{loading:!0});case"APP/HIDE_LOADER":return Object(b.a)(Object(b.a)({},e),{},{loading:!1});case"APP/SHOW_MODAL":return Object(b.a)(Object(b.a)({},e),{},{modalWindow:!0});case"APP/HIDE_MODAL":return Object(b.a)(Object(b.a)({},e),{},{modalWindow:!1});default:return e}}}),P=a(16),x=Object(N.e)(H,Object(N.d)(Object(N.a)(P.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),k=r.a.createElement(u.a,{store:x},r.a.createElement(j,null));c.a.render(k,document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.d2639ed9.chunk.js.map