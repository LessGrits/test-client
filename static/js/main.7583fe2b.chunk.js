(this["webpackJsonptest-client"]=this["webpackJsonptest-client"]||[]).push([[0],{18:function(e,t,a){e.exports=a(37)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c);a(23),a(24),a(25);var u=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("footer",null,"\xa9Footer"))},l=(a(26),a(3)),i=a(2),s=a.n(i),d=a(4),m="https://we-are-the-future-test-server.herokuapp.com/hotdogs",p=function(e){return function(){var t=Object(d.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(m,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:t.sent,a({type:"HOTDOG/CREATE_HOTDOG",payload:e}),a(E()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e,t){return function(){var a=Object(d.a)(s.a.mark((function a(n){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(m,"/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:a.sent,n({type:"HOTDOG/UPDATE_HOTDOG",payload:{id:t,hotdogData:e}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},O=function(){return{type:"APP/SHOW_LOADER"}},f=function(){return{type:"APP/HIDE_LOADER"}},E=function(){return{type:"APP/HIDE_MODAL"}},b=function(){var e=Object(l.b)();return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"},r.a.createElement("img",{src:"https://image.freepik.com/free-vector/_98292-3951.jpg",alt:"logo"})),r.a.createElement("button",{className:"new-hotdog",onClick:function(){return e({type:"APP/SHOW_MODAL"})}},"Add hotdog"))},g=a(6),v=(a(34),a(7)),_=a(1),j=(a(35),function(e){var t=e.data,a=(e.checkValidate,Object(n.useState)(!1)),c=Object(g.a)(a,2),o=c[0],u=c[1],i=Object(l.b)(),p=Object(n.useState)(t),O=Object(g.a)(p,2),f=O[0],E=O[1],b=f.name,j=f.description,y=f.price,D=f.photo_url,N=f.hotdog_id,T=function(){u(!o)},w=function(e){e.persist(),E((function(t){return Object(_.a)(Object(_.a)({},t),{},Object(v.a)({},e.target.name,e.target.value))}))},A=function(){var e=Object(d.a)(s.a.mark((function e(t,a,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),i(h(t,a)),T();case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),H=r.a.createElement("div",{className:"hotdog"},r.a.createElement("div",{className:"hotdog__img"},r.a.createElement("img",{src:D,alt:"hotdog"})),r.a.createElement("h3",{className:"hotdog__name"},b),r.a.createElement("p",{className:"hotdog__price"},y,"$"),r.a.createElement("p",{className:"hotdog__description"},j),r.a.createElement("button",{className:"hotdog__btn",onClick:T},"Edit"));return o?r.a.createElement("div",{className:"hotdog"},r.a.createElement("div",{className:"hotdog__img"},r.a.createElement("img",{src:D,alt:"hotdogPhoto"})),r.a.createElement("form",{className:"edit-form",onSubmit:function(e){return A(f,N,e)}},r.a.createElement("input",{type:"text",name:"photo_url",value:D,onChange:w}),r.a.createElement("input",{type:"text",name:"name",required:!0,value:b,onChange:w}),r.a.createElement("input",{type:"number",name:"price",required:!0,value:y,onChange:w}),r.a.createElement("input",{type:"text",name:"description",value:j,onChange:w}),r.a.createElement("button",{type:"submit",className:"hotdog__btn"},"Upgrade"),r.a.createElement("button",{type:"button",className:"hotdog__btn",onClick:function(){return i((e=N,function(){var t=Object(d.a)(s.a.mark((function t(a){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(m,"/").concat(e),{method:"DELETE"});case 3:t.sent,a({type:"HOTDOG/DELETE_HOTDOG",payload:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()));var e}},"Delete"))):H}),y=(a(36),function(e){var t=e.checkValidate,a=Object(l.b)(),c=Object(n.useState)({name:"",price:"",description:"",photo_url:""}),o=Object(g.a)(c,2),u=o[0],i=o[1],m=function(e){e.persist(),i((function(t){return Object(_.a)(Object(_.a)({},t),{},Object(v.a)({},e.target.name,e.target.value))}))},h=function(){var e=Object(d.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=(Date.now()/1e3).toFixed(),r=Object(_.a)(Object(_.a)({},u),{},{hotdog_id:n}),a(p(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"modal-background",onClick:function(){return a(E())}}),r.a.createElement("div",{className:"modal-content"},r.a.createElement("form",{onSubmit:h},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h4",{className:"modal-title"},"Add new hot-dog")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("input",{className:"modal-input",placeholder:"Image",type:"text",name:"photo_url",value:u.photo_url,onChange:m}),r.a.createElement("input",{className:"modal-input",required:!0,placeholder:"Name",type:"text",name:"name",value:u.name,onChange:m}),r.a.createElement("input",{className:"modal-input",required:!0,placeholder:"Price",type:"number",name:"price",value:u.price,onChange:m}),r.a.createElement("input",{className:"modal-input",placeholder:"Description",type:"text",name:"description",value:u.description,onChange:m})),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"submit",className:"modal-btn",disabled:t(u)},"Add"),r.a.createElement("button",{type:"button",onClick:function(){return a(E())},className:"modal-btn"},"Close")))))}),D=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.hotdogs.hotdogs})),a=Object(l.c)((function(e){return e.app.loading})),c=Object(l.c)((function(e){return e.app.modalWindow})),o=Object(n.useState)(!1),u=Object(g.a)(o,2),i=u[0],p=u[1];Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(O()),e.next=3,fetch(m);case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,t({type:"HOTDOG/FETCH_HOTDOGS",payload:n}),t(f());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var h=function(e){var t=new Image;return t.onload=function(){return p(!0)},t.onerror=function(){return p(!1)},t.src=e,i},E=function(e){var t=e.name,a=e.price,n=e.photo_url;return console.log(t,a,n),console.log(h(n)),!(h(n)&&t&&a)};return r.a.createElement("main",null,a?r.a.createElement("div",{className:"loader"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"All hot-dogs"),r.a.createElement("section",{className:"main-content"},t.map((function(e){return r.a.createElement(j,{data:e,checkValidate:E,key:e.hotdog_id})})),c&&r.a.createElement(y,{checkValidate:E}))))};var N=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(D,null),r.a.createElement(u,null))},T=a(5),w=a(17),A={hotdogs:[]},H={modalWindow:!1,loading:!1},k=Object(T.c)({hotdogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HOTDOG/CREATE_HOTDOG":return{hotdogs:[].concat(Object(w.a)(e.hotdogs),[t.payload])};case"HOTDOG/FETCH_HOTDOGS":return{hotdogs:t.payload};case"HOTDOG/DELETE_HOTDOG":return{hotdogs:e.hotdogs.filter((function(e){return e.hotdog_id!==t.payload}))};case"HOTDOG/UPDATE_HOTDOG":return{hotdogs:e.hotdogs.map((function(e){return e.hotdog_id===t.payload.id?t.payload.hotdogData:e}))};default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SHOW_LOADER":return Object(_.a)(Object(_.a)({},e),{},{loading:!0});case"APP/HIDE_LOADER":return Object(_.a)(Object(_.a)({},e),{},{loading:!1});case"APP/SHOW_MODAL":return Object(_.a)(Object(_.a)({},e),{},{modalWindow:!0});case"APP/HIDE_MODAL":return Object(_.a)(Object(_.a)({},e),{},{modalWindow:!1});default:return e}}}),x=a(16),P=Object(T.e)(k,Object(T.d)(Object(T.a)(x.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),C=r.a.createElement(l.a,{store:P},r.a.createElement(N,null));o.a.render(C,document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.7583fe2b.chunk.js.map